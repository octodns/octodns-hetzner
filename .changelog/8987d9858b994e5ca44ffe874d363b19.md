---
type: major
---
Add hcloud backend (mandatory dep) with Strategy Pattern refactoring

- New `backend` parameter supports `dnsapi` (default) and `hcloud` options
- hcloud backend uses Hetzner Cloud Zones API via official hcloud-python client (installed by default)
- Supports additional record types: DS, TLSA, PTR (when using either backend)
- Refactored to Strategy Pattern for clean separation of backend-specific logic
- Extracted modules: exceptions.py, dnsapi_client.py, clients.py, strategies.py
- Added Protocol-based type safety (PEP 544)
- Eliminated conditional backend logic from provider
- HCloud adapter resilient to multiple client API shapes (zone/service methods)
- list_zones filters invalid/empty names
- Robust CAA parsing via shlex; safe fallback on malformed values
- Centralized TTL fallback (3600) for hcloud adapter
- 100% test coverage maintained
- Zone-by-zone migration: configure multiple providers with different backends
- Both backends co-exist (until May 2026)
- Comprehensive migration guide in README
- No breaking changes - fully backward compatible
